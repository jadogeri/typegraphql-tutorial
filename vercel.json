{
  "version": 2,
  "buildCommand": "tsoa routes && tsc && tsc-esm-fix --target='dist'",
  "builds": [
    {
      "src": "server/src/app.ts",
      "use": "@vercel/node",
      "config": { 
        "includeFiles": [
          "server/src/**", 
          "server/src/routes.js", 
          "server/src/swagger.json",
          "server/node_modules/swagger-ui-dist/**" ,
          "node_modules/swagger-ui-dist/**",
          "server/src/middlewares/swagger.middleware.ts"

        ] 
      }
    }
  ],
  "rewrites": [
    { "source": "/(.*)", "destination": "server/src/app.ts" }
  ]
}
